{"ast":null,"code":"var _jsxFileName = \"D:\\\\Clutchup-Fantasy\\\\Clutchup-Fantasy\\\\src\\\\components\\\\pages\\\\Forgotscreen.js\";\nimport React, { useState, useEffect } from \"react\";\nimport BackgroundImage from \"../../images/Left.png\";\nimport logoimages from \"../../images/logo_1.png\";\nimport \"./Style.css\";\nimport ConforPsmpopup from \"./ConforPsmpopup.js\";\nimport { useHistory } from \"react-router-dom\";\nimport { supabase } from \"../../supabaseClient\";\nimport { Update } from \"@material-ui/icons\";\n\nconst Forgotscreen = () => {\n  const history = useHistory();\n  const [email, setEmail] = useState(\"\");\n  const [isValidEmail, setIsValidEmail] = useState(false);\n  const [conformpsPopup, setConformpsPopup] = useState(false);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    setLoading(true);\n    setTimeout(() => {\n      setLoading(false);\n    }, 1000);\n  }, []);\n  const userInput = {\n    isEmailOk: false\n  };\n\n  const getEmail = e => {\n    setEmail(e.target.value);\n  };\n\n  const resetPassword = async () => {\n    if (email.trim().length === 0) {\n      setIsValidEmail(true);\n    } else {\n      setIsValidEmail(false);\n      const {\n        data,\n        error\n      } = await supabase.auth.resetPasswordForEmail(email // {\n      //   redirectTo: \"https://clutchuappreactjs-phash-1.d1cr5nflmqclb3.amplifyapp.com/ResetPassword/\",\n      // }\n      );\n      console.log(data);\n\n      if (!error) {\n        setIsValidEmail(false);\n        let {\n          data,\n          error\n        } = await supabase.from('user').select().eq('email', email);\n        console.log(\"file\", data);\n\n        if (data.length !== 0) {\n          if (data[0].email === email) {\n            setConformpsPopup(true);\n          } else {\n            setIsValidEmail(true);\n          }\n        } else {\n          setIsValidEmail(true);\n        } // history.push('/Mainlogin/')\n\n      } else {\n        // alert(error.message || error);\n        setIsValidEmail(true);\n      }\n    } // console.log(data);\n    // console.log(error);\n\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, loading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loader-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"spinner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    src: logoimages,\n    style: {\n      width: 100,\n      height: 100\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: BackgroundImage,\n    className: \"mainimg\",\n    alt: \"back-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"contener\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: logoimages,\n    className: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"hading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 19\n    }\n  }, \"Forgot Password\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"forgot-pass\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-input-wrp\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"inputText\",\n    onChange: getEmail,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"floating-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 23\n    }\n  }, \"EMAIL\"), isValidEmail && /*#__PURE__*/React.createElement(\"small\", {\n    style: {\n      textAlign: \"left\",\n      marginTop: 5,\n      color: \"red\",\n      display: \"grid\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 25\n    }\n  }, \"Please Enter Email Address.\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btn2 mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button\",\n    onClick: resetPassword,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 23\n    }\n  }, \"Submit\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Terms-conditions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }\n  }, \"Privacy | Terms & Conditions\")))))), conformpsPopup && /*#__PURE__*/React.createElement(ConforPsmpopup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 26\n    }\n  }));\n};\n\nexport default Forgotscreen;","map":{"version":3,"names":["React","useState","useEffect","BackgroundImage","logoimages","ConforPsmpopup","useHistory","supabase","Update","Forgotscreen","history","email","setEmail","isValidEmail","setIsValidEmail","conformpsPopup","setConformpsPopup","loading","setLoading","setTimeout","userInput","isEmailOk","getEmail","e","target","value","resetPassword","trim","length","data","error","auth","resetPasswordForEmail","console","log","from","select","eq","width","height","textAlign","marginTop","color","display"],"sources":["D:/Clutchup-Fantasy/Clutchup-Fantasy/src/components/pages/Forgotscreen.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport BackgroundImage from \"../../images/Left.png\";\r\nimport logoimages from \"../../images/logo_1.png\";\r\nimport \"./Style.css\";\r\nimport ConforPsmpopup from \"./ConforPsmpopup.js\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { supabase } from \"../../supabaseClient\";\r\nimport { Update } from \"@material-ui/icons\";\r\n\r\nconst Forgotscreen = () => {\r\n  const history = useHistory();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [isValidEmail, setIsValidEmail] = useState(false);\r\n  const [conformpsPopup, setConformpsPopup] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    setTimeout(() => {\r\n      setLoading(false);\r\n    }, 1000);\r\n  }, []);\r\n\r\n  const userInput = {\r\n    isEmailOk: false,\r\n  };\r\n  const getEmail = (e) => {\r\n    setEmail(e.target.value);\r\n  };\r\n\r\n  const resetPassword = async () => {\r\n    if (email.trim().length === 0) {\r\n      setIsValidEmail(true);\r\n    } else {\r\n      setIsValidEmail(false);\r\n      const { data, error } = await supabase.auth.resetPasswordForEmail(\r\n        email\r\n        // {\r\n        //   redirectTo: \"https://clutchuappreactjs-phash-1.d1cr5nflmqclb3.amplifyapp.com/ResetPassword/\",\r\n        // }\r\n      );\r\n     console.log(data);\r\n      if (!error) {\r\n        setIsValidEmail(false);\r\n        let { data, error } = await supabase\r\n          .from('user')\r\n          .select()\r\n          .eq('email',email)\r\n        console.log(\"file\",data);\r\n        if(data.length !== 0){\r\n          if(data[0].email === email){\r\n            setConformpsPopup(true);\r\n          }else{\r\n            setIsValidEmail(true);\r\n          }\r\n        }else{\r\n          setIsValidEmail(true);\r\n        }\r\n        \r\n        // history.push('/Mainlogin/')\r\n      } else {\r\n        // alert(error.message || error);\r\n        setIsValidEmail(true);\r\n      }\r\n    }\r\n    // console.log(data);\r\n    // console.log(error);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"section\">\r\n        {loading ? (\r\n          <div className=\"loader-container\">\r\n            <div className=\"spinner\"></div>\r\n            <img src={logoimages} style={{ width: 100, height: 100 }} />\r\n          </div>\r\n        ) : (\r\n          <div className=\"Row\">\r\n            <div className=\"col1\">\r\n              <img src={BackgroundImage} className=\"mainimg\" alt=\"back-image\" />\r\n            </div>\r\n            <div className=\"col\">\r\n              <div className=\"contener\">\r\n                <div className=\"d-box\">\r\n                  <img src={logoimages} className=\"logo\" />\r\n                  <h3 className=\"hading\">Forgot Password</h3>\r\n                  <div className=\"forgot-pass\">\r\n                    <div className=\"user-input-wrp\">\r\n                      <br />\r\n                      <input\r\n                        type=\"text\"\r\n                        className=\"inputText\"\r\n                        \r\n                        onChange={getEmail}\r\n                        required\r\n                      />\r\n                      <span className=\"floating-label\">EMAIL</span>\r\n                      {isValidEmail && (\r\n                        <small\r\n                          style={{\r\n                            textAlign: \"left\",\r\n                            marginTop: 5,\r\n                            color: \"red\",\r\n                            display: \"grid\",\r\n                          }}\r\n                        >\r\n                          Please Enter Email Address.\r\n                        </small>\r\n                      )}\r\n                    </div>\r\n                    <div className=\"btn2 mt-3\">\r\n                      <button className=\"button\" onClick={resetPassword}>\r\n                        Submit\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                <div className=\"Terms-conditions\">\r\n                  Privacy | Terms & Conditions\r\n                </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {conformpsPopup && <ConforPsmpopup />}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Forgotscreen;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}